{"version":3,"sources":["webpack:///static/js/app.961388c7ac0c84eae3b2.js","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?5667","webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/App.vue?d8f9"],"names":["webpackJsonp","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_vue_router__","use","routes","path","component","resolve","e","then","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","this","catch","oe","__WEBPACK_IMPORTED_MODULE_1_vuex__","Store","state","domain","jwt","exports","Component","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_1_fastclick__","__WEBPACK_IMPORTED_MODULE_1_fastclick___default","n","__WEBPACK_IMPORTED_MODULE_2__App__","__WEBPACK_IMPORTED_MODULE_2__App___default","__WEBPACK_IMPORTED_MODULE_3_vue_resource__","__WEBPACK_IMPORTED_MODULE_4__router_index__","__WEBPACK_IMPORTED_MODULE_5__store_index__","a","attach","document","body","config","productionTip","beforeEach","to","from","next","params","_nowTimeStamp","Date","getTime","token","page","replace","window","location","href","createTime","expires_in","http","method","url","code","d","data","access_token","alert","router","store","render","h","$mount","name","_vm","_h","$createElement","_c","_self","attrs","id","staticRenderFns"],"mappings":"AAAAA,cAAc,IACP,CAED,SAAUC,EAAQC,EAAqBC,GAE7C,YACqB,IAAIC,GAAoCD,EAAoB,GACxDE,EAA2CF,EAAoB,GCJxFC,GAAA,EAAIE,IAAID,EAAA,GAERH,EAAA,KAAmBG,GAAA,GACjBE,SAEIC,KAAM,cACNC,UAAW,SAAUC,GACnBP,EAAAQ,EAAA,GAAAC,KAAA,WAAQ,GAAAC,IAACV,EAAA,IAA4BO,GDOyFI,MAAM,KAAMD,ICP1IE,KAAAC,OAAAC,MAAAd,EAAAe,OAIFV,KAAM,QACNC,UAAW,SAAUC,GACnBP,EAAAQ,EAAA,GAAAC,KAAA,WAAQ,GAAAC,IAACV,EAAA,IAAsBO,GDM+FI,MAAM,KAAMD,ICN1IE,KAAAC,OAAAC,MAAAd,EAAAe,OAIFV,KAAM,yBACNC,UAAW,SAAUC,GACnBP,EAAAQ,EAAA,GAAAC,KAAA,WAAQ,GAAAC,IAACV,EAAA,IAA0BO,GDK2FI,MAAM,KAAMD,ICL1IE,KAAAC,OAAAC,MAAAd,EAAAe,OAIFV,KAAM,aACNC,UAAW,SAAUC,GACnBP,EAAAQ,EAAA,GAAAC,KAAA,WAAQ,GAAAC,IAACV,EAAA,IAA2BO,GDI0FI,MAAM,KAAMD,ICJ1IE,KAAAC,OAAAC,MAAAd,EAAAe,OAIFV,KAAM,qBACNC,UAAW,SAAUC,GACnBP,EAAAQ,EAAA,GAAAC,KAAA,WAAQ,GAAAC,IAACV,EAAA,IAAuBO,GDG8FI,MAAM,KAAMD,ICH1IE,KAAAC,OAAAC,MAAAd,EAAAe,UDUF,SAAUjB,EAAQC,EAAqBC,GAE7C,YACqB,IAAIC,GAAoCD,EAAoB,GACxDgB,EAAqChB,EAAoB,GE7ClFC,GAAA,EAAIE,IAAIa,EAAA,GAERjB,EAAA,KAAmBiB,GAAA,EAAKC,OACtBC,OACEC,OAAQ,0BACRC,WFsDG,CACA,CAED,SAAUtB,EAAQuB,EAASrB,GG/DjCA,EAAA,GAEA,IAAAsB,GAAAtB,EAAA,GAEAA,EAAA,GAEAA,EAAA,IAEA,KAEA,KAGAF,GAAAuB,QAAAC,EAAAD,SHuEO,CACA,CAED,SAAUvB,EAAQC,EAAqBC,GAE7C,YACAuB,QAAOC,eAAezB,EAAqB,cAAgB0B,OAAO,GAC7C,IAAIxB,GAAoCD,EAAoB,GACxD0B,EAA0C1B,EAAoB,GAC9D2B,EAAkD3B,EAAoB4B,EAAEF,GACxEG,EAAqC7B,EAAoB,GACzD8B,EAA6C9B,EAAoB4B,EAAEC,GACnEE,EAA6C/B,EAAoB,GACjEgC,EAA8ChC,EAAoB,GAClEiC,EAA6CjC,EAAoB,EI7F1FC,GAAA,EAAIE,IAAI4B,EAAA,GAERJ,EAAAO,EAAUC,OAAOC,SAASC,MAE1BpC,EAAA,EAAIqC,OAAOC,eAAgB,EAG3BP,EAAA,EAAOQ,WAAW,SAACC,EAAIC,EAAMC,GAC3B,GAAuB,UAAnBF,EAAGG,OAAOF,KACZC,QACK,CACL,GAAIE,IAAgB,GAAIC,OAAOC,SAC/B,KAAKd,EAAA,EAAMf,MAAME,IAAI4B,MAAO,CAC1B,GAAIC,GAAOR,EAAGpC,KAAK6C,QAAQ,MAAO,GAElC,OADAC,QAAOC,SAASC,KAAO,6FAA+FpB,EAAA,EAAMf,MAAMC,OAAS,gEAAkE8B,EAAO,oBAC7M,GACGJ,EAAgBZ,EAAA,EAAMf,MAAME,IAAIkC,YAAc,IAAOrB,EAAA,EAAMf,MAAME,IAAImC,WAAa,MAC5FtD,EAAA,EAAIuD,MACFC,OAAQ,MACRC,IAAKzB,EAAA,EAAMf,MAAMC,OAAS,eAC1ByB,QAASe,KAAQ1B,EAAA,EAAMf,MAAME,IAAIuC,KAAMzC,MAASe,EAAA,EAAMf,MAAME,IAAIF,SAE/DT,KAAK,SAACmD,GACL3B,EAAA,EAAMf,MAAME,KACV4B,MAAO,UAAYY,EAAEC,KAAKC,aAC1BP,WAAYK,EAAEC,KAAKN,WACnBD,WAAYT,IAEb,SAACe,GACFG,MAAM,SACNZ,OAAOC,SAASC,KAAO,6FAA+FpB,EAAA,EAAMf,MAAMC,OAAS,gEAAkE8B,EAAO,qBAG1NN,OAIJ,GAAI1C,GAAA,GACF+D,OAAAhC,EAAA,EACAiC,MAAAhC,EAAA,EACAiC,OAAQ,SAAAC,GAAA,MAAKA,GAAErC,EAAAI,MACdkC,OAAO,aJyGJ,SAAUtE,EAAQC,EAAqBC,GAE7C,YACAuB,QAAOC,eAAezB,EAAqB,cAAgB0B,OAAO,IKrJlE1B,EAAA,SACEsE,KAAM,QL6JF,SAAUvE,EAAQuB,KAMlB,SAAUvB,EAAQuB,GM3KxBvB,EAAAuB,SAAgB6C,OAAA,WAAmB,GAAAI,GAAAzD,KAAa0D,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,CAC1E,OAAAE,GAAA,OACAE,OACAC,GAAA,SAEGH,EAAA,oBACFI,qBNgLO,CACA,CACA,CAEF,SAAU/E,EAAQuB,OAKrB","file":"static/js/app.961388c7ac0c84eae3b2.js","sourcesContent":["webpackJsonp([6],[\n/* 0 */,\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(12);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/bindmobile',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(3).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(18)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/info',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(1).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(20)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/describe/:id/:jobname',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(2).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(19)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/writeinfo',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(0).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(21)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/:code/:page/:from',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(4).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(22)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }]\n}));\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vuex__ = __webpack_require__(14);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vuex__[\"a\" /* default */].Store({\n  state: {\n    domain: 'http://demo.cscoder.cn/',\n    jwt: {}\n  }\n}));\n\n/***/ }),\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(10)\n\nvar Component = __webpack_require__(6)(\n  /* script */\n  __webpack_require__(9),\n  /* template */\n  __webpack_require__(11),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 6 */,\n/* 7 */,\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_fastclick__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_fastclick___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_fastclick__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__App__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__App__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_vue_resource__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__router_index__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__store_index__ = __webpack_require__(2);\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].use(__WEBPACK_IMPORTED_MODULE_3_vue_resource__[\"a\" /* default */]);\n\n__WEBPACK_IMPORTED_MODULE_1_fastclick___default.a.attach(document.body);\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\n__WEBPACK_IMPORTED_MODULE_4__router_index__[\"a\" /* default */].beforeEach(function (to, from, next) {\n  if (to.params.from === 'oauth') {\n    next();\n  } else {\n    var _nowTimeStamp = new Date().getTime();\n    if (!__WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */].state.jwt.token) {\n      var page = to.path.replace(/\\//g, '');\n      window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx99dc6b0ea873ba0c&redirect_uri=' + __WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */].state.domain + 'dist/getcode.html&response_type=code&scope=snsapi_base&state=' + page + '#wechat_redirect';\n      return false;\n    } else if ((_nowTimeStamp - __WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */].state.jwt.createTime) / 1000 > __WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */].state.jwt.expires_in - 1200) {\n      __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].http({\n        method: 'Get',\n        url: __WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */].state.domain + 'wechat/login',\n        params: { 'code': __WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */].state.jwt.code, 'state': __WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */].state.jwt.state }\n      }).then(function (d) {\n        __WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */].state.jwt = {\n          token: 'Bearer ' + d.data.access_token,\n          expires_in: d.data.expires_in,\n          createTime: _nowTimeStamp\n        };\n      }, function (d) {\n        alert('登录异常!');\n        window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx99dc6b0ea873ba0c&redirect_uri=' + __WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */].state.domain + 'dist/getcode.html&response_type=code&scope=snsapi_base&state=' + page + '#wechat_redirect';\n      });\n    }\n    next();\n  }\n});\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  router: __WEBPACK_IMPORTED_MODULE_4__router_index__[\"a\" /* default */],\n  store: __WEBPACK_IMPORTED_MODULE_5__store_index__[\"a\" /* default */],\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_2__App___default.a);\n  }\n}).$mount('#app-box');\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n],[8]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.961388c7ac0c84eae3b2.js","import Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/bindmobile',\n      component: function (resolve) {\n        require(['@/components/BindMobile'], resolve)\n      }\n    },\n    {\n      path: '/info',\n      component: function (resolve) {\n        require(['@/components/Info'], resolve)\n      }\n    },\n    {\n      path: '/describe/:id/:jobname',\n      component: function (resolve) {\n        require(['@/components/Describe'], resolve)\n      }\n    },\n    {\n      path: '/writeinfo',\n      component: function (resolve) {\n        require(['@/components/WriteInfo'], resolve)\n      }\n    },\n    {\n      path: '/:code/:page/:from',\n      component: function (resolve) {\n        require(['@/components/oauth'], resolve)\n      }\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    domain: 'http://demo.cscoder.cn/',\n    jwt: {}\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0070c1d8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vux-loader/src/style-loader.js!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vux-loader/src/script-loader.js!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0070c1d8\\\"}!../node_modules/vux-loader/src/template-loader.js!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 5\n// module chunks = 6","import Vue from 'vue'\nimport FastClick from 'fastclick'\nimport App from './App'\nimport VueResource from 'vue-resource'\nimport router from './router/index'\nimport store from './store/index'\n\nVue.use(VueResource)\n\nFastClick.attach(document.body)\n\nVue.config.productionTip = false\n\n// 页面进入前判断\nrouter.beforeEach((to, from, next) => {\n  if (to.params.from === 'oauth') { // 从授权页过来，则跳过\n    next()\n  } else {\n    var _nowTimeStamp = new Date().getTime()\n    if (!store.state.jwt.token) {\n      var page = to.path.replace(/\\//g, '')\n      window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx99dc6b0ea873ba0c&redirect_uri=' + store.state.domain + 'dist/getcode.html&response_type=code&scope=snsapi_base&state=' + page + '#wechat_redirect'\n      return false\n    } else if ((_nowTimeStamp - store.state.jwt.createTime) / 1000 > store.state.jwt.expires_in - 1200) {\n      Vue.http({\n        method: 'Get',\n        url: store.state.domain + 'wechat/login',\n        params: {'code': store.state.jwt.code, 'state': store.state.jwt.state}\n      })\n        .then((d) => {\n          store.state.jwt = {// 写token\n            token: 'Bearer ' + d.data.access_token,\n            expires_in: d.data.expires_in,\n            createTime: _nowTimeStamp\n          }\n        }, (d) => {\n          alert('登录异常!')\n          window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx99dc6b0ea873ba0c&redirect_uri=' + store.state.domain + 'dist/getcode.html&response_type=code&scope=snsapi_base&state=' + page + '#wechat_redirect'\n        })\n    }\n    next()\n  }\n})\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app-box')\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'app'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.vue","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0070c1d8\"}!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 11\n// module chunks = 6"],"sourceRoot":""}