{"version":3,"sources":["webpack:///static/js/app.ec27c0d994a584be248c.js","webpack:///./src/router/index.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?5667","webpack:///./src/main.js","webpack:///./src/App.vue","webpack:///./src/App.vue?d8f9"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_vue","_vue2","_vueRouter","_vueRouter2","use","routes","path","component","resolve","e","then","__WEBPACK_AMD_REQUIRE_ARRAY__","apply","bind","this","catch","oe","_vuex","_vuex2","Store","state","domain","appid","jwt","describe","applies","jobIdx","Component","_fastclick","_fastclick2","_App","_App2","_vueResource","_vueResource2","_index","_index2","_index3","_index4","attach","document","body","config","productionTip","beforeEach","to","from","next","params","_nowTimeStamp","Date","getTime","token","page","encodeURIComponent","window","location","replace","createTime","expires_in","http","method","url","code","d","data","access_token","alert","href","router","store","render","h","$mount","name","_vm","_h","$createElement","_c","_self","attrs","id","staticRenderFns"],"mappings":"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","file":"static/js/app.ec27c0d994a584be248c.js","sourcesContent":["webpackJsonp([6],[\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vue = __webpack_require__(0);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _vueRouter = __webpack_require__(12);\n\nvar _vueRouter2 = _interopRequireDefault(_vueRouter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_vue2.default.use(_vueRouter2.default);\n\nexports.default = new _vueRouter2.default({\n  routes: [{\n    path: '/bindmobile',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(2).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(18)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/info',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(4).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(20)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/describe/:id',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(1).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(19)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/writeinfo',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(0).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(21)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }, {\n    path: '/:code/:page/:from',\n    component: function component(resolve) {\n      __webpack_require__.e/* require */(3).then(function() { var __WEBPACK_AMD_REQUIRE_ARRAY__ = [__webpack_require__(22)]; (resolve.apply(null, __WEBPACK_AMD_REQUIRE_ARRAY__));}.bind(this)).catch(__webpack_require__.oe);\n    }\n  }]\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _vue = __webpack_require__(0);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _vuex = __webpack_require__(14);\n\nvar _vuex2 = _interopRequireDefault(_vuex);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_vue2.default.use(_vuex2.default);\n\nexports.default = new _vuex2.default.Store({\n  state: {\n    domain: 'http://cwzp.cscoder.cn/',\n    appid: 'wxbb8540e4892ce063',\n    jwt: {},\n    describe: {},\n    applies: [],\n    jobIdx: 0\n  }\n});\n\n/***/ }),\n/* 3 */,\n/* 4 */,\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(10)\n\nvar Component = __webpack_require__(6)(\n  /* script */\n  __webpack_require__(9),\n  /* template */\n  __webpack_require__(11),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 6 */,\n/* 7 */,\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _vue = __webpack_require__(0);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _fastclick = __webpack_require__(3);\n\nvar _fastclick2 = _interopRequireDefault(_fastclick);\n\nvar _App = __webpack_require__(5);\n\nvar _App2 = _interopRequireDefault(_App);\n\nvar _vueResource = __webpack_require__(4);\n\nvar _vueResource2 = _interopRequireDefault(_vueResource);\n\nvar _index = __webpack_require__(1);\n\nvar _index2 = _interopRequireDefault(_index);\n\nvar _index3 = __webpack_require__(2);\n\nvar _index4 = _interopRequireDefault(_index3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_vue2.default.use(_vueResource2.default);\n\n_fastclick2.default.attach(document.body);\n\n_vue2.default.config.productionTip = false;\n\n_index2.default.beforeEach(function (to, from, next) {\n  if (to.params.from === 'oauth') {\n    next();\n  } else {\n    var _nowTimeStamp = new Date().getTime();\n    if (!_index4.default.state.jwt.token) {\n      var page = encodeURIComponent(to.path);\n\n      window.location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + _index4.default.state.appid + '&redirect_uri=' + _index4.default.state.domain + 'dist/getcode.html&response_type=code&scope=snsapi_base&state=' + page + '#wechat_redirect');\n      return false;\n    } else if ((_nowTimeStamp - _index4.default.state.jwt.createTime) / 1000 > _index4.default.state.jwt.expires_in - 1200) {\n      _vue2.default.http({\n        method: 'Get',\n        url: _index4.default.state.domain + 'wechat/login',\n        params: { 'code': _index4.default.state.jwt.code, 'state': _index4.default.state.jwt.state }\n      }).then(function (d) {\n        _index4.default.state.jwt = {\n          token: 'Bearer ' + d.data.access_token,\n          expires_in: d.data.expires_in,\n          createTime: _nowTimeStamp\n        };\n      }, function (d) {\n        alert('登录异常!');\n        window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + _index4.default.state.appid + '&redirect_uri=' + _index4.default.state.domain + 'dist/getcode.html&response_type=code&scope=snsapi_base&state=' + page + '#wechat_redirect';\n      });\n    }\n    next();\n  }\n});\n\nnew _vue2.default({\n  router: _index2.default,\n  store: _index4.default,\n  render: function render(h) {\n    return h(_App2.default);\n  }\n}).$mount('#app-box');\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  name: 'app'\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ })\n],[8]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.ec27c0d994a584be248c.js","import Vue from 'vue'\nimport Router from 'vue-router'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/bindmobile',\n      component: function (resolve) {\n        require(['@/components/BindMobile'], resolve)\n      }\n    },\n    {\n      path: '/info',\n      component: function (resolve) {\n        require(['@/components/Info'], resolve)\n      }\n    },\n    {\n      path: '/describe/:id',\n      component: function (resolve) {\n        require(['@/components/Describe'], resolve)\n      }\n    },\n    {\n      path: '/writeinfo',\n      component: function (resolve) {\n        require(['@/components/WriteInfo'], resolve)\n      }\n    },\n    {\n      path: '/:code/:page/:from',\n      component: function (resolve) {\n        require(['@/components/oauth'], resolve)\n      }\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    domain: 'http://cwzp.cscoder.cn/',\n    appid: 'wxbb8540e4892ce063',\n    jwt: {},\n    describe: {},\n    applies: [],\n    jobIdx: 0\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","\n/* styles */\nrequire(\"!!../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0070c1d8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":true}!../node_modules/vux-loader/src/after-less-loader.js!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vux-loader/src/style-loader.js!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vux-loader/src/script-loader.js!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0070c1d8\\\"}!../node_modules/vux-loader/src/template-loader.js!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 5\n// module chunks = 6","import Vue from 'vue'\nimport FastClick from 'fastclick'\nimport App from './App'\nimport VueResource from 'vue-resource'\nimport router from './router/index'\nimport store from './store/index'\n\nVue.use(VueResource)\n\nFastClick.attach(document.body)\n\nVue.config.productionTip = false\n\n// 页面进入前判断\nrouter.beforeEach((to, from, next) => {\n  if (to.params.from === 'oauth') { // 从授权页过来，则跳过\n    next()\n  } else {\n    var _nowTimeStamp = new Date().getTime()\n    if (!store.state.jwt.token) {\n      var page = encodeURIComponent(to.path)\n      //var page = to.path.replace(/\\//g, '')\n      window.location.replace('https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + store.state.appid + '&redirect_uri=' + store.state.domain + 'dist/getcode.html&response_type=code&scope=snsapi_base&state=' + page + '#wechat_redirect')\n      return false\n    } else if ((_nowTimeStamp - store.state.jwt.createTime) / 1000 > store.state.jwt.expires_in - 1200) {\n      Vue.http({\n        method: 'Get',\n        url: store.state.domain + 'wechat/login',\n        params: {'code': store.state.jwt.code, 'state': store.state.jwt.state}\n      })\n        .then((d) => {\n          store.state.jwt = {// 写token\n            token: 'Bearer ' + d.data.access_token,\n            expires_in: d.data.expires_in,\n            createTime: _nowTimeStamp\n          }\n        }, (d) => {\n          alert('登录异常!')\n          window.location.href = 'https://open.weixin.qq.com/connect/oauth2/authorize?appid=' + store.state.appid + '&redirect_uri=' + store.state.domain + 'dist/getcode.html&response_type=code&scope=snsapi_base&state=' + page + '#wechat_redirect'\n        })\n    }\n    next()\n  }\n})\n\nnew Vue({\n  router,\n  store,\n  render: h => h(App)\n}).$mount('#app-box')\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'app'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/App.vue","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('router-view')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0070c1d8\"}!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 11\n// module chunks = 6"],"sourceRoot":""}